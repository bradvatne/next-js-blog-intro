{"ast":null,"code":"import matter from 'gray-matter';\nimport marked from 'marked';\nimport yaml from 'js-yaml';\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    content: content\n  };\n}\nexport async function getAllPosts() {\n  const context = require.context('../_posts', false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace('.md', ''),\n      title: meta.data.title\n    });\n  }\n\n  return posts;\n}\nexport async function getConfig() {\n  const config = await import(`../config.yml`);\n  return yaml.safeLoad(config.default);\n}\n;","map":{"version":3,"sources":["C:/Users/Brad/nextjs-blog/api/index.js"],"names":["matter","marked","yaml","getPostBySlug","slug","fileContent","meta","default","content","title","data","getAllPosts","context","require","posts","key","keys","post","slice","push","replace","getConfig","config","safeLoad"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,OAAO,eAAeC,aAAf,CAA6BC,IAA7B,EAAmC;AACxC,QAAMC,WAAW,GAAG,MAAM,OAAQ,aAAYD,IAAK,KAAzB,CAA1B;AACA,QAAME,IAAI,GAAGN,MAAM,CAACK,WAAW,CAACE,OAAb,CAAnB;AACA,QAAMC,OAAO,GAAGP,MAAM,CAACK,IAAI,CAACE,OAAN,CAAtB;AACA,SAAO;AACLC,IAAAA,KAAK,EAAEH,IAAI,CAACI,IAAL,CAAUD,KADZ;AAELD,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID;AAED,OAAO,eAAeG,WAAf,GAA6B;AAClC,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AACA,OAAI,MAAMC,GAAV,IAAiBH,OAAO,CAACI,IAAR,EAAjB,EAAgC;AAC9B,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMV,OAAO,GAAG,MAAM,OAAQ,aAAYS,IAAK,EAAzB,CAAtB;AACA,UAAMX,IAAI,GAAGN,MAAM,CAACQ,OAAO,CAACD,OAAT,CAAnB;AACAO,IAAAA,KAAK,CAACK,IAAN,CAAW;AACTf,MAAAA,IAAI,EAAEa,IAAI,CAACG,OAAL,CAAa,KAAb,EAAmB,EAAnB,CADG;AAETX,MAAAA,KAAK,EAAEH,IAAI,CAACI,IAAL,CAAUD;AAFR,KAAX;AAID;;AACD,SAAOK,KAAP;AACD;AAGD,OAAO,eAAeO,SAAf,GAA2B;AAChC,QAAMC,MAAM,GAAG,MAAM,OAAQ,eAAR,CAArB;AACA,SAAOpB,IAAI,CAACqB,QAAL,CAAcD,MAAM,CAACf,OAArB,CAAP;AACD;AAAA","sourcesContent":["import matter from 'gray-matter';\r\nimport marked from 'marked';\r\nimport yaml from 'js-yaml';\r\n\r\nexport async function getPostBySlug(slug) {\r\n  const fileContent = await import(`../_posts/${slug}.md`)\r\n  const meta = matter(fileContent.default)\r\n  const content = marked(meta.content)    \r\n  return {\r\n    title: meta.data.title, \r\n    content: content\r\n  }\r\n}\r\n\r\nexport async function getAllPosts() {\r\n  const context = require.context('../_posts', false, /\\.md$/)\r\n  const posts = []\r\n  for(const key of context.keys()){\r\n    const post = key.slice(2);\r\n    const content = await import(`../_posts/${post}`);\r\n    const meta = matter(content.default)\r\n    posts.push({\r\n      slug: post.replace('.md',''),\r\n      title: meta.data.title\r\n    })\r\n  }\r\n  return posts;\r\n}\r\n\r\n\r\nexport async function getConfig() {\r\n  const config = await import(`../config.yml`)\r\n  return yaml.safeLoad(config.default);\r\n};"]},"metadata":{},"sourceType":"module"}